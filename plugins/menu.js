const config = require('../config');

module.exports = {
  command: "menu",
  description: "Displays bot commands menu with a random image.",
  react: "ğŸ”°",
  category: "main",

  execute: async (socket, msg, args, number) => {
    const { key } = msg;
    const from = key.remoteJid;
    const sender = key.participant || from;
    const pushname = msg.pushName || "User";

    try {
      // â”€â”€â”€â”€â”€â”€ RANDOM IMAGE ARRAY (Optimized) â”€â”€â”€â”€â”€â”€
      const MENU_IMAGES = [
        'https://files.catbox.moe/deeo6l.jpg',
        'https://h.uguu.se/tEviMVWD.jpg',
        'https://o.uguu.se/FGDyxLGk.jpg',
        'https://h.uguu.se/Leqyukxp.jpg',
        'https://d.uguu.se/eOnVundp.jpg',
        'https://h.uguu.se/DyPmSRHF.jpg',
        'https://d.uguu.se/XCvZECji.jpg',
        'https://h.uguu.se/gHfOEiLr.jpg',
      ];

      const getRandomImage = () => MENU_IMAGES[Math.floor(Math.random() * MENU_IMAGES.length)];

      // â”€â”€â”€â”€â”€â”€ DYNAMIC MENU TEXT (Clean & Structured) â”€â”€â”€â”€â”€â”€
      const menuText = `
â•­â–°â˜­ *ğ™»ğš˜ğšğš ğ™µğš›ğšğš ğ™±ğš˜ğš* â˜­â–°â•®
âœ– ğŸ”° *Ê™á´á´› É´á´€á´á´‡:* ğ™»ğš˜ğšğš ğš€ğšğšŠğš—ğšğšğš–
âœ– ğŸ”° *á´á´¡É´á´‡Ê€:* ğš‚ğš’ğš› ğ™»ğ™¾ğ™µğšƒ
âœ– ğŸ”° *á´ á´‡Ê€êœ±Éªá´É´:* ğš•ğšŠğšğšğšœğš ğš€ğšğšŠğš—ğšğšğš–
âœ– ğŸ”° *á´˜ÊŸá´€á´›êœ°á´Ê€á´:* ğš€ğšğšŠğš—ğšğšğš– (ğ™»ğš’ğš—ğšğš¡ ğŸ¸ğŸ¸.ğŸ¶ğŸº)
âœ– ğŸ”° *USER*: ${pushname}*
âœ– ğŸ”° *PREFiX*: ${config.PREFIX}*
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âœ† ğš†ğšğš•ğš•ğšŒğš˜ğš–ğš ğšğš˜ ğŸ”°ğš€ğš„ğ™°ğ™½ğšƒğš„ğ™¼
âœ† ğšƒğš‘ğšŠğš—ğš”ğšœ ğšğš˜ğš› ğšŒğš‘ğš˜ğš˜ğšœğš’ğš—ğš ğšğšœ

*â•­â”â”â˜­  ğ™¶ğ™´ğ™½ğ™´ğšğ™°ğ™» â˜­â”â”â”ˆâŠ·*
*â”ƒâ˜­â”‚ â€¢ ğ™°ğ™»ğ™¸ğš…ğ™´*
*â”ƒâ˜­â”‚ â€¢ ğš„ğ™¿ğšƒğ™¸ğ™¼ğ™´*
*â”ƒâ˜­â”‚ â€¢ ğ™¿ğ™¸ğ™½ğ™¶*
*â”ƒâ˜­â”‚ â€¢ ğš‚ğšˆğš‚ğšƒğ™´ğ™¼*
*â”ƒâ˜­â”‚ â€¢ ğš‚ğš„ğ™¿ğ™¿ğ™¾ğšğšƒ*
*â”ƒâ˜­â”‚ â€¢ ğ™¾ğš†ğ™½ğ™´ğš*
*â”ƒâ˜­â”‚ â€¢ ğ™¿ğ™°ğ™¸ğš*
*â”ƒâ˜­â”‚ â€¢ ğ™¼ğ™´ğ™½ğš„*
*â”ƒâ˜­â”‚ â€¢ ğ™µğ™¾ğšğš†ğ™°ğšğ™³*
*â”ƒâ˜­â”‚ â€¢ ğ™»ğ™¸ğš‚ğšƒ*
*â”ƒâ˜­â”‚ â€¢ ğ™¶ğšğ™¾ğš„ğ™¿ğ™»ğ™¸ğ™½ğ™º*
*â”ƒâ˜­â”‚ â€¢ ğ™°ğš„ğšƒğ™¾ğ™±ğ™¸ğ™¾*
*â•°â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”ˆâŠ·*

*â•­â”â”â˜­  ğ™³ğ™¾ğš†ğ™½ğ™»ğ™¾ğ™°ğ™³ â˜­â”â”â”ˆâŠ·*
*â”ƒâ˜­â”‚ â€¢ ğš‚ğ™¾ğ™½ğ™¶*
*â”ƒâ˜­â”‚ â€¢ ğš…ğ™¸ğ™³ğ™´ğ™¾*
*â”ƒâ˜­â”‚ â€¢ ğšƒğ™¸ğ™ºğšƒğ™¾ğ™º*
*â”ƒâ˜­â”‚ â€¢ ğ™µğ™°ğ™²ğ™´ğ™±ğ™¾ğ™¾ğ™º*
*â”ƒâ˜­â”‚ â€¢ ğ™°ğ™¿ğ™º*
*â”ƒâ˜­â”‚ â€¢ ğ™¸ğ™¼ğ™¶*
*â•°â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”ˆâŠ·*
  
*â•­â”â”â˜­  ğš•ğš˜ğšğš ğšŠğš’ â˜­â”â”â”ˆâŠ·*
*â”ƒâ˜­â”‚ â€¢ ğš‚ğ™¸ğšğ™¸*
*â”ƒâ˜­â”‚ â€¢ ğ™±ğ™¸ğš‡ğ™±ğšˆ*
*â”ƒâ˜­â”‚ â€¢ ğ™±ğšğ™´ğ™´ğ™½ğ™¾*
*â”ƒâ˜­â”‚ â€¢ ğš‡ğ™¸ğ™°ğ™¾ğ™°ğ™¸*
*â”ƒâ˜­â”‚ â€¢ ğ™´ğ™»ğ™»ğ™°*
*â•°â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”ˆâŠ·*

*â•­â”â”â˜­  ğ™¾ğš†ğ™½ğ™´ğš â˜­â”â”â”ˆâŠ·*
*â”ƒâ˜­â”‚ â€¢ ğ™±ğ™»ğ™¾ğ™²ğ™º*
*â”ƒâ˜­â”‚ â€¢ ğš„ğ™½ğ™±ğ™»ğ™¾ğ™²ğ™º*
*â”ƒâ˜­â”‚ â€¢ ğ™³ğ™´ğ™»ğ™´ğšƒğ™´*
*â”ƒâ˜­â”‚ â€¢ ğ™»ğ™´ğ™°ğš…ğ™´*
*â”ƒâ˜­â”‚ â€¢ ğ™°ğ™³ğš‚*
*â”ƒâ˜­â”‚ â€¢ ğš…ğš…*
*â”ƒâ˜­â”‚ â€¢ ğ™¹ğ™¾ğ™¸ğ™½*
*â”ƒâ˜­â”‚ â€¢ ğ™¹ğ™¸ğ™³*
*â•°â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”ˆâŠ·*

*â•­â”â”â˜­  ğ™¶ğšğ™¾ğš„ğ™¿ â˜­â”â”â”ˆâŠ·*
*â”ƒâ˜­â”‚ â€¢ ğ™¹ğ™¾ğ™¸ğ™½*
*â”ƒâ˜­â”‚ â€¢ ğ™»ğ™´ğ™°ğš…ğ™´*
*â”ƒâ˜­â”‚ â€¢ ğ™±ğ™²*
*â”ƒâ˜­â”‚ â€¢ ğ™·ğ™¸ğ™³ğ™´ğšƒğ™°ğ™¶*
*â”ƒâ˜­â”‚ â€¢ ğš†ğ™´ğ™»ğ™²ğ™¾ğ™¼ğ™´*
*â”ƒâ˜­â”‚ â€¢ ğ™¼ğš„ğšƒğ™´*
*â”ƒâ˜­â”‚ â€¢ ğš„ğ™½ğ™¼ğš„ğšƒğ™´*
*â”ƒâ˜­â”‚ â€¢ ğ™ºğ™¸ğ™²ğ™º*
*â”ƒâ˜­â”‚ â€¢ ğ™°ğ™³ğ™³*
*â”ƒâ˜­â”‚ â€¢ ğšƒğ™°ğ™¶ğ™°ğ™»ğ™»*
*â”ƒâ˜­â”‚ â€¢ ğ™¿ğšğ™¾ğ™¼ğ™¾ğšƒğ™´*
*â”ƒâ˜­â”‚ â€¢ ğ™³ğ™´ğ™¼ğ™¾ğšƒğ™´*
*â”ƒâ˜­â”‚ â€¢ ğ™¶ğ™½ğ™°ğ™¼ğ™´*
*â”ƒâ˜­â”‚ â€¢ ğ™¶ğ™³ğ™´ğš‚ğ™²*
*â•°â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”ˆâŠ·*

*â•­â”â”â˜­  ğ™¾ğšƒğ™·ğ™´ğš â˜­â”â”â”ˆâŠ·*
*â”ƒâ˜­â”‚ â€¢ ğ™¶ğ™´ğšƒğ™¿ğ™¿*
*â”ƒâ˜­â”‚ â€¢ ğš‚ğšƒğ™¸ğ™²ğ™ºğ™´ğš*
*â”ƒâ˜­â”‚ â€¢ ğš…ğ™¾ğ™¸ğ™²ğ™´ğ™¶ğ™¿ğšƒ*
*â”ƒâ˜­â”‚ â€¢ ğ™¹ğ™¾ğ™ºğ™´*
*â”ƒâ˜­â”‚ â€¢ ğš†ğ™´ğ™°ğšƒğ™·ğ™´ğš*
*â”ƒâ˜­â”‚ â€¢ ğ™°ğ™¸ğš‚ğš„ğ™¼ğ™¼ğ™°ğšğšˆ*
*â”ƒâ˜­â”‚ â€¢ ğš‚ğ™´ğ™½ğ™³ğš„ğ™¿ğ™³ğ™°ğšƒğ™´*
*â”ƒâ˜­â”‚ â€¢ ğšƒğ™´ğš‡ğšƒğ™¼*
*â”ƒâ˜­â”‚ â€¢ ğ™¶ğ™´ğšƒğ™³ğ™¿*
*â”ƒâ˜­â”‚ â€¢ ğ™±ğ™¸ğšğšƒğ™·ğ™³ğ™°ğšˆ*
*â•°â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”ˆâŠ·*
> *Powered by Sir LOFT*
`.trim();

      // â”€â”€â”€â”€â”€â”€ SEND MENU WITH RANDOM IMAGE â”€â”€â”€â”€â”€â”€
      await socket.sendMessage(
        from,
        {
          image: { url: getRandomImage() },
          caption: menuText,
          contextInfo: {
            mentionedJid: [sender],
            forwardingScore: 999,
            isForwarded: true,
            forwardedNewsletterMessageInfo: {
              newsletterJid: '120363422731708290@newsletter',
              newsletterName: 'ğ™¼ğš› ğ™»ğš˜ğšğšƒ',
              serverMessageId: 143
            }
          }
        },
        { quoted: msg }
      );

    } catch (error) {
      console.error("Menu Command Error:", error);
      await socket.sendMessage(
        from,
        { text: `âŒ *Error:* \`${error.message}\`` },
        { quoted: msg }
      );
    }
  }
};